name: Generate GitHub Contribution Snake

# Run daily and on manual trigger
on:
  schedule:
    - cron: '0 0 * * *'    # daily at 00:00 UTC (you can change)
  workflow_dispatch:      # allows manual run

jobs:
  generate-snake:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v4
        with:
          persist-credentials: true

      - name: Generate contribution graph SVG
        # Uses the Platane SNK action to create the svg
        uses: platane/snk@v0.9.0
        with:
          username: prithi2004
          # output path inside the repository (root)
          output: github-contribution-grid-snake.svg
          # optionally set theme (see action docs if you want others)
          theme: default

      - name: Commit generated SVG to 'output' branch
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "chore: update contribution graph"
          file_pattern: github-contribution-grid-snake.svg
          branch: output
